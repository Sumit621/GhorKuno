{"ast":null,"code":"import _slicedToArray from\"C:/Users/ASUS/Desktop/WebProject/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState,useEffect}from\"react\";import axios from\"axios\";import{NavLink,useNavigate}from\"react-router-dom\";import{connect}from\"react-redux\";import{logout}from\"../redux/actions/auth\";import{Navbar,Nav,Image}from\"react-bootstrap\";import BrandTitle from\"../assets/ghorKuno_title.png\";// import BrandTitle from \"../assets/ghorKuno LOGO.png\";\nimport{Button}from\"@material-ui/core\";import LogoutIcon from\"@material-ui/icons/ExitToApp\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NavBar=function NavBar(_ref){var logout=_ref.logout,isAuthenticated=_ref.isAuthenticated;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var logout_user=function logout_user(){logout();};var navLinkStyle=function navLinkStyle(_ref2){var isActive=_ref2.isActive;return{textDecoration:isActive?\"underline\":\"none\",// border: isActive ? \"2px solid #FFBD2D\" : \" red\",\n// borderRadius: isActive ? \"20px\" : \" 0px\",\ncolor:isActive?\"red\":\"#FFBD2D\"// background: isActive ? \"#FFBD2D\" : \"red\",\n};};var config={headers:{\"Content-Type\":\"application/json\",Authorization:\"JWT \".concat(localStorage.getItem(\"access\")),Accept:\"application/json\"}};useEffect(function(){axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/auth/users/me/\"),config).then(function(res){return setUser(res.data);}).catch(function(error){return console.log(error);});},[isAuthenticated]);var guestNavLinks=function guestNavLinks(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(NavLink,{style:navLinkStyle,className:\"px-2\",to:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(NavLink,{style:navLinkStyle,className:\"px-2\",to:\"/signup\",children:\"Sign Up\"})})]});};var authNavLinks=function authNavLinks(){return/*#__PURE__*/_jsxs(Nav,{children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(NavLink,{style:navLinkStyle,className:\"px-2\",to:\"/contact-us\",children:\"ContactUs\"})}),/*#__PURE__*/_jsx(Nav.Item,{children:user.is_worker?/*#__PURE__*/_jsx(NavLink,{style:navLinkStyle,className:\"px-2\",to:\"/user-info\",children:\"WorkerInfo\"}):/*#__PURE__*/_jsx(NavLink,{style:navLinkStyle,className:\"px-2\",to:\"/user-info\",children:\"UserInfo\"})}),/*#__PURE__*/_jsx(Nav.Item,{className:\"px-5\",children:/*#__PURE__*/_jsx(NavLink,{style:navLinkStyle,className:\"px-2\",to:\"/login\",children:/*#__PURE__*/_jsx(Button,{startIcon:/*#__PURE__*/_jsx(LogoutIcon,{}),color:\"secondary\",variant:\"contained\",onClick:logout_user,children:\"Logout\"})})})]});};return/*#__PURE__*/_jsxs(Navbar,{bg:\"light\",variant:\"light\",expand:\"lg\",children:[/*#__PURE__*/_jsx(Navbar.Brand,{className:\"px-5\",href:\"/home\",children:/*#__PURE__*/_jsx(Image,{width:200,height:30,alt:\"GhorKuno\",src:BrandTitle,className:\"d-inline-block align-top\"})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"responsive-navbar-nav\"}),/*#__PURE__*/_jsx(Navbar.Collapse,{id:\"responsive-navbar-nav\",children:/*#__PURE__*/_jsxs(Nav,{variant:\"pills\",className:\"fs-4 fw-bold align-right p-1 justify-content-end\",children:[/*#__PURE__*/_jsx(Nav.Item,{children:/*#__PURE__*/_jsx(NavLink,{to:\"/home\",style:navLinkStyle,className:\"px-2\",children:\"Home\"})}),!isAuthenticated?guestNavLinks():authNavLinks()]})})]});};var mapStateToProps=function mapStateToProps(state){return{isAuthenticated:state.auth.isAuthenticated};};export default connect(mapStateToProps,{logout:logout})(NavBar);","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/WebProject/frontend/src/components/NavBar.js"],"names":["React","Fragment","useState","useEffect","axios","NavLink","useNavigate","connect","logout","Navbar","Nav","Image","BrandTitle","Button","LogoutIcon","NavBar","isAuthenticated","user","setUser","logout_user","navLinkStyle","isActive","textDecoration","color","config","headers","Authorization","localStorage","getItem","Accept","get","process","env","REACT_APP_API_URL","then","res","data","catch","error","console","log","guestNavLinks","authNavLinks","is_worker","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { NavLink, useNavigate } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { logout } from \"../redux/actions/auth\";\r\nimport { Navbar, Nav, Image } from \"react-bootstrap\";\r\nimport BrandTitle from \"../assets/ghorKuno_title.png\";\r\n// import BrandTitle from \"../assets/ghorKuno LOGO.png\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport LogoutIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nconst NavBar = ({ logout, isAuthenticated }) => {\r\n  const [user, setUser] = useState([]);\r\n\r\n  const logout_user = () => {\r\n    logout();\r\n  };\r\n\r\n  const navLinkStyle = ({ isActive }) => {\r\n    return {\r\n      textDecoration: isActive ? \"underline\" : \"none\",\r\n      // border: isActive ? \"2px solid #FFBD2D\" : \" red\",\r\n      // borderRadius: isActive ? \"20px\" : \" 0px\",\r\n      color: isActive ? \"red\" : \"#FFBD2D\",\r\n      // background: isActive ? \"#FFBD2D\" : \"red\",\r\n    };\r\n  };\r\n\r\n  const config = {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `JWT ${localStorage.getItem(\"access\")}`,\r\n      Accept: \"application/json\",\r\n    },\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(`${process.env.REACT_APP_API_URL}/auth/users/me/`, config)\r\n      .then((res) => setUser(res.data))\r\n      .catch((error) => console.log(error));\r\n  }, [isAuthenticated]);\r\n\r\n  const guestNavLinks = () => (\r\n    <Fragment>\r\n      <Nav.Item>\r\n        <NavLink style={navLinkStyle} className=\"px-2\" to=\"/login\">\r\n          Login\r\n        </NavLink>\r\n      </Nav.Item>\r\n      <Nav.Item>\r\n        <NavLink style={navLinkStyle} className=\"px-2\" to=\"/signup\">\r\n          Sign Up\r\n        </NavLink>\r\n      </Nav.Item>\r\n    </Fragment>\r\n  );\r\n\r\n  const authNavLinks = () => (\r\n    <Nav>\r\n      <Nav.Item>\r\n        <NavLink style={navLinkStyle} className=\"px-2\" to=\"/contact-us\">\r\n          ContactUs\r\n        </NavLink>\r\n      </Nav.Item>\r\n      <Nav.Item>\r\n        {user.is_worker ? (\r\n          <NavLink style={navLinkStyle} className=\"px-2\" to=\"/user-info\">\r\n            WorkerInfo\r\n          </NavLink>\r\n        ) : (\r\n          <NavLink style={navLinkStyle} className=\"px-2\" to=\"/user-info\">\r\n            UserInfo\r\n          </NavLink>\r\n        )}\r\n      </Nav.Item>\r\n\r\n      <Nav.Item className=\"px-5\">\r\n        <NavLink style={navLinkStyle} className=\"px-2\" to=\"/login\">\r\n          <Button\r\n            startIcon={<LogoutIcon />}\r\n            color=\"secondary\"\r\n            variant=\"contained\"\r\n            onClick={logout_user}\r\n          >\r\n            Logout\r\n          </Button>\r\n        </NavLink>\r\n      </Nav.Item>\r\n    </Nav>\r\n  );\r\n\r\n  return (\r\n    <Navbar bg=\"light\" variant={\"light\"} expand=\"lg\">\r\n      <Navbar.Brand className=\"px-5\" href=\"/home\">\r\n        <Image\r\n          width={200}\r\n          height={30}\r\n          alt=\"GhorKuno\"\r\n          src={BrandTitle}\r\n          className=\"d-inline-block align-top\"\r\n        />\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n      <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n        <Nav\r\n          variant=\"pills\"\r\n          className=\"fs-4 fw-bold align-right p-1 justify-content-end\"\r\n        >\r\n          <Nav.Item>\r\n            <NavLink to=\"/home\" style={navLinkStyle} className=\"px-2\">\r\n              Home\r\n            </NavLink>\r\n          </Nav.Item>\r\n          {!isAuthenticated ? guestNavLinks() : authNavLinks()}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n});\r\n\r\nexport default connect(mapStateToProps, { logout })(NavBar);\r\n"]},"metadata":{},"sourceType":"module"}